:target{id="module-werkzeug.http"}

# HTTP Utilities

Werkzeug provides a couple of functions to parse and generate HTTP headers
that are useful when implementing WSGI middlewares or whenever you are
operating on a lower level layer.  All this functionality is also exposed
from request and response objects.

:target{#datetime-functions}

## Datetime Functions

These functions simplify working with times in an HTTP context. Werkzeug
produces timezone-aware [`datetime`](https://docs.python.org/3/library/datetime.html#datetime.datetime "(in Python v3.11)") objects in UTC. When
passing datetime objects to Werkzeug, it assumes any naive datetime is
in UTC.

When comparing datetime values from Werkzeug, your own datetime objects
must also be timezone-aware, or you must make the values from Werkzeug
naive.

- `dt = datetime.now(timezone.utc)` gets the current time in UTC.
- `dt = datetime(..., tzinfo=timezone.utc)` creates a time in UTC.
- `dt = dt.replace(tzinfo=timezone.utc)` makes a naive object aware
  by assuming it’s in UTC.
- `dt = dt.replace(tzinfo=None)` makes an aware object naive.

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_date"} module={"werkzeug.http"} fullname={"parse_date"} parameters={["value"]} description={"Parse an RFC 2822 date into a timezone-aware\ndatetime.datetime object, or None if parsing fails."}>
  <Outline.Signature fullname="parse_date" id="werkzeug.http.parse_date">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_date</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse an [<strong>RFC 2822</strong>](https://datatracker.ietf.org/doc/html/rfc2822.html) date into a timezone-aware
    [`datetime.datetime`](https://docs.python.org/3/library/datetime.html#datetime.datetime "(in Python v3.11)") object, or `None` if parsing fails.

    This is a wrapper for [`email.utils.parsedate_to_datetime()`](https://docs.python.org/3/library/email.utils.html#email.utils.parsedate_to_datetime "(in Python v3.11)"). It
    returns `None` if parsing fails instead of raising an exception,
    and always returns a timezone-aware datetime object. If the string
    doesn’t have timezone information, it is assumed to be UTC.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – A string with a supported date format.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          datetime | None
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.0: </span>Return a timezone-aware datetime object. Use
      `email.utils.parsedate_to_datetime`.
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.http_date"} module={"werkzeug.http"} fullname={"http_date"} parameters={["timestamp"]} description={"Format a datetime object or timestamp into an RFC 2822 date\nstring."}>
  <Outline.Signature fullname="http_date" id="werkzeug.http.http_date">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>http\_date</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">timestamp</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Format a datetime object or timestamp into an [<strong>RFC 2822</strong>](https://datatracker.ietf.org/doc/html/rfc2822.html) date
    string.

    This is a wrapper for [`email.utils.format_datetime()`](https://docs.python.org/3/library/email.utils.html#email.utils.format_datetime "(in Python v3.11)"). It
    assumes naive datetime objects are in UTC instead of raising an
    exception.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>timestamp</Outline.ParameterTarget> (<em>datetime</em><em> | </em><em>date</em><em> | </em>[<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em>[<em>float</em>](https://docs.python.org/3/library/functions.html#float "(in Python v3.11)")<em> | </em><em>struct\_time</em><em> | </em><em>None</em>) – The datetime or timestamp to format. Defaults to
          the current time.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.0: </span>Use `email.utils.format_datetime`. Accept `date` objects.
    </Container>
  </Outline.Content>
</Outline>

:target{#header-parsing}

## Header Parsing

The following functions can be used to parse incoming HTTP headers.
Because Python does not provide data structures with the semantics required
by [<strong>RFC 2616</strong>](https://datatracker.ietf.org/doc/html/rfc2616.html), Werkzeug implements some custom data structures that are
[documented separately](datastructures.mdx#http-datastructures).

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_options_header"} module={"werkzeug.http"} fullname={"parse_options_header"} parameters={["value"]} description={"Parse a header that consists of a value with key=value parameters separated\nby semicolons ;. For example, the Content-Type header."}>
  <Outline.Signature fullname="parse_options_header" id="werkzeug.http.parse_options_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_options\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse a header that consists of a value with `key=value` parameters separated
    by semicolons `;`. For example, the `Content-Type` header.

    ```python
    parse_options_header("text/html; charset=UTF-8")
    ('text/html', {'charset': 'UTF-8'})

    parse_options_header("")
    ("", {})
    ```

    This is the reverse of `dump_options_header()`.

    This parses valid parameter parts as described in
    [RFC 9110](https://httpwg.org/specs/rfc9110.html#parameter). Invalid parts are
    skipped.

    This handles continuations and charsets as described in
    [RFC 2231](https://www.rfc-editor.org/rfc/rfc2231#section-3), although not as
    strictly as the RFC. Only ASCII, UTF-8, and ISO-8859-1 charsets are accepted,
    otherwise the value remains quoted.

    Clients may not be consistent in how they handle a quote character within a quoted
    value. The [HTML Standard](https://html.spec.whatwg.org/#multipart-form-data)
    replaces it with `%22` in multipart form data.
    [RFC 9110](https://httpwg.org/specs/rfc9110.html#quoted.strings) uses backslash
    escapes in HTTP headers. Both are decoded to the `"` character.

    Clients may not be consistent in how they handle non-ASCII characters. HTML
    documents must declare `<meta charset=UTF-8>`, otherwise browsers may replace with
    HTML character references, which can be decoded using [`html.unescape()`](https://docs.python.org/3/library/html.html#html.unescape "(in Python v3.11)").

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – The header value to parse.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          `(value, options)`, where `options` is a dict
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [tuple](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.11)")\[[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)"), [dict](https://docs.python.org/3/library/stdtypes.html#dict "(in Python v3.11)")\[[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)"), [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")]]
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>Invalid parts, such as keys with no value, quoted keys, and incorrectly quoted
      values, are discarded instead of treating as `None`.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>Only ASCII, UTF-8, and ISO-8859-1 are accepted for charset values.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>Escaped quotes in quoted values, like `%22` and `\"`, are handled.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.2: </span>Option names are always converted to lowercase.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.2: </span>The `multiple` parameter was removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 0.15: </span>[<strong>RFC 2231</strong>](https://datatracker.ietf.org/doc/html/rfc2231.html) parameter continuations are handled.
    </Container>

    <Container type="info" title="Version added">
      <span>New in version 0.5.</span>
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_set_header"} module={"werkzeug.http"} fullname={"parse_set_header"} parameters={["value", "on_update"]} description={"Parse a set-like header and return a\nHeaderSet object:"}>
  <Outline.Signature fullname="parse_set_header" id="werkzeug.http.parse_set_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_set\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter>, <Outline.Parameter><span className="name">on\_update</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse a set-like header and return a
    [`HeaderSet`](datastructures.mdx#werkzeug.datastructures.HeaderSet "werkzeug.datastructures.HeaderSet") object:

    ```python
    >>> hs = parse_set_header('token, "quoted value"')
    ```

    The return value is an object that treats the items case-insensitively
    and keeps the order of the items:

    ```python
    >>> 'TOKEN' in hs
    True
    >>> hs.index('quoted value')
    1
    >>> hs
    HeaderSet(['token', 'quoted value'])
    ```

    To create a header from the `HeaderSet` again, use the
    [`dump_header()`](#werkzeug.http.dump_header "werkzeug.http.dump_header") function.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – a set header to be parsed.
          - <Outline.ParameterTarget>on\_update</Outline.ParameterTarget> (<em>t.Callable</em><em>\[</em><em>\[</em><em>ds.HeaderSet</em><em>]</em><em>, </em><em>None</em><em>] </em><em>| </em><em>None</em>) – an optional callable that is called every time a
            value on the [`HeaderSet`](datastructures.mdx#werkzeug.datastructures.HeaderSet "werkzeug.datastructures.HeaderSet")
            object is changed.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          a [`HeaderSet`](datastructures.mdx#werkzeug.datastructures.HeaderSet "werkzeug.datastructures.HeaderSet")
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          ds.HeaderSet
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_list_header"} module={"werkzeug.http"} fullname={"parse_list_header"} parameters={["value"]} description={"Parse a header value that consists of a list of comma separated items according\nto RFC 9110."}>
  <Outline.Signature fullname="parse_list_header" id="werkzeug.http.parse_list_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_list\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse a header value that consists of a list of comma separated items according
    to [RFC 9110](https://httpwg.org/specs/rfc9110.html#abnf.extension).

    This extends `urllib.request.parse_http_list()` to remove surrounding quotes
    from values.

    ```python
    parse_list_header('token, "quoted value"')
    ['token', 'quoted value']
    ```

    This is the reverse of [`dump_header()`](#werkzeug.http.dump_header "werkzeug.http.dump_header").

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) – The header value to parse.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [list](https://docs.python.org/3/library/stdtypes.html#list "(in Python v3.11)")\[[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")]
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_dict_header"} module={"werkzeug.http"} fullname={"parse_dict_header"} parameters={["value"]} description={"Parse a list header using parse_list_header(), then parse each item as a\nkey=value pair."}>
  <Outline.Signature fullname="parse_dict_header" id="werkzeug.http.parse_dict_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_dict\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse a list header using [`parse_list_header()`](#werkzeug.http.parse_list_header "werkzeug.http.parse_list_header"), then parse each item as a
    `key=value` pair.

    ```python
    parse_dict_header('a=b, c="d, e", f')
    {"a": "b", "c": "d, e", "f": None}
    ```

    This is the reverse of [`dump_header()`](#werkzeug.http.dump_header "werkzeug.http.dump_header").

    If a key does not have a value, it is `None`.

    This handles charsets for values as described in
    [RFC 2231](https://www.rfc-editor.org/rfc/rfc2231#section-3). Only ASCII, UTF-8,
    and ISO-8859-1 charsets are accepted, otherwise the value remains quoted.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) – The header value to parse.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [dict](https://docs.python.org/3/library/stdtypes.html#dict "(in Python v3.11)")\[[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)"), [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)") | None]
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>Passing bytes is not supported.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>The `cls` argument is removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>Added support for `key*=charset''value` encoded items.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 0.9: </span>The `cls` argument was added.
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={null} module={"werkzeug.http"} fullname={"parse_accept_header"} parameters={["value", "cls"]} description={"Parse an Accept header according to\nRFC 9110."}>
  <Outline.Signature fullname="parse_accept_header" id="werkzeug.http.parse_accept_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_accept\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Accept](datastructures.mdx#werkzeug.datastructures.Accept "werkzeug.datastructures.accept.Accept")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Signature fullname="parse_accept_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_accept\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">cls</span><span>:</span><span>{" "}</span><span className="name">[type](https://docs.python.org/3/library/functions.html#type "(in Python v3.11)")<span>\[</span>\_TAnyAccept<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>\_TAnyAccept</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Parse an `Accept` header according to
    [RFC 9110](https://httpwg.org/specs/rfc9110.html#field.accept).

    Returns an [`Accept`](datastructures.mdx#werkzeug.datastructures.Accept "werkzeug.datastructures.Accept") instance, which can sort and inspect items based on
    their quality parameter. When parsing `Accept-Charset`, `Accept-Encoding`, or
    `Accept-Language`, pass the appropriate [`Accept`](datastructures.mdx#werkzeug.datastructures.Accept "werkzeug.datastructures.Accept") subclass.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> – The header value to parse.
          - <Outline.ParameterTarget>cls</Outline.ParameterTarget> – The [`Accept`](datastructures.mdx#werkzeug.datastructures.Accept "werkzeug.datastructures.Accept") class to wrap the result in.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          An instance of `cls`.
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>Parse according to RFC 9110. Items with invalid `q` values are skipped.
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={null} module={"werkzeug.http"} fullname={"parse_cache_control_header"} parameters={["value", "on_update", "cls"]} description={"Parse a cache control header.  The RFC differs between response and\nrequest cache control, this method does not.  It\u2019s your responsibility\nto not use the wrong control statements."}>
  <Outline.Signature fullname="parse_cache_control_header" id="werkzeug.http.parse_cache_control_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_cache\_control\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">on\_update</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "(in Python v3.11)")<span>\[</span><span>\[</span>\_TAnyCC<span>]</span><span>,</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">cls</span><span>:</span><span>{" "}</span><span className="name">[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[RequestCacheControl](datastructures.mdx#werkzeug.datastructures.RequestCacheControl "werkzeug.datastructures.cache_control.RequestCacheControl")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Signature fullname="parse_cache_control_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_cache\_control\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">on\_update</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "(in Python v3.11)")<span>\[</span><span>\[</span>\_TAnyCC<span>]</span><span>,</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.11)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">cls</span><span>:</span><span>{" "}</span><span className="name">[type](https://docs.python.org/3/library/functions.html#type "(in Python v3.11)")<span>\[</span>\_TAnyCC<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>\_TAnyCC</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Parse a cache control header.  The RFC differs between response and
    request cache control, this method does not.  It’s your responsibility
    to not use the wrong control statements.

    <Container type="info" title="Version added">
      <span>New in version 0.5: </span>The <cite>cls</cite> was added.  If not specified an immutable
      [`RequestCacheControl`](datastructures.mdx#werkzeug.datastructures.RequestCacheControl "werkzeug.datastructures.RequestCacheControl") is returned.
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> – a cache control header to be parsed.
          - <Outline.ParameterTarget>on\_update</Outline.ParameterTarget> – an optional callable that is called every time a value
            on the `CacheControl`
            object is changed.
          - <Outline.ParameterTarget>cls</Outline.ParameterTarget> – the class for the returned object.  By default
            [`RequestCacheControl`](datastructures.mdx#werkzeug.datastructures.RequestCacheControl "werkzeug.datastructures.RequestCacheControl") is used.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          a <cite>cls</cite> object.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_if_range_header"} module={"werkzeug.http"} fullname={"parse_if_range_header"} parameters={["value"]} description={"Parses an if-range header which can be an etag or a date.  Returns\na IfRange object."}>
  <Outline.Signature fullname="parse_if_range_header" id="werkzeug.http.parse_if_range_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_if\_range\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parses an if-range header which can be an etag or a date.  Returns
    a [`IfRange`](datastructures.mdx#werkzeug.datastructures.IfRange "werkzeug.datastructures.IfRange") object.

    <Container type="info" title="Version changed">
      <span>Changed in version 2.0: </span>If the value represents a datetime, it is timezone-aware.
    </Container>

    <Container type="info" title="Version added">
      <span>New in version 0.7.</span>
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) –&#x20;
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          ds.IfRange
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_range_header"} module={"werkzeug.http"} fullname={"parse_range_header"} parameters={["value", "make_inclusive"]} description={"Parses a range header into a Range\nobject.  If the header is missing or malformed None is returned.\nranges is a list of (start, stop) tuples where the ranges are\nnon-inclusive."}>
  <Outline.Signature fullname="parse_range_header" id="werkzeug.http.parse_range_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_range\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter>, <Outline.Parameter><span className="name">make\_inclusive</span><span>=</span><span>True</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parses a range header into a [`Range`](datastructures.mdx#werkzeug.datastructures.Range "werkzeug.datastructures.Range")
    object.  If the header is missing or malformed <cite>None</cite> is returned.
    <cite>ranges</cite> is a list of `(start, stop)` tuples where the ranges are
    non-inclusive.

    <Container type="info" title="Version added">
      <span>New in version 0.7.</span>
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) –&#x20;
          - <Outline.ParameterTarget>make\_inclusive</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) –&#x20;
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          ds.Range | None
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_content_range_header"} module={"werkzeug.http"} fullname={"parse_content_range_header"} parameters={["value", "on_update"]} description={"Parses a range header into a\nContentRange object or None if\nparsing is not possible."}>
  <Outline.Signature fullname="parse_content_range_header" id="werkzeug.http.parse_content_range_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_content\_range\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter>, <Outline.Parameter><span className="name">on\_update</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parses a range header into a
    [`ContentRange`](datastructures.mdx#werkzeug.datastructures.ContentRange "werkzeug.datastructures.ContentRange") object or <cite>None</cite> if
    parsing is not possible.

    <Container type="info" title="Version added">
      <span>New in version 0.7.</span>
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – a content range header to be parsed.
          - <Outline.ParameterTarget>on\_update</Outline.ParameterTarget> (<em>t.Callable</em><em>\[</em><em>\[</em><em>ds.ContentRange</em><em>]</em><em>, </em><em>None</em><em>] </em><em>| </em><em>None</em>) – an optional callable that is called every time a value
            on the [`ContentRange`](datastructures.mdx#werkzeug.datastructures.ContentRange "werkzeug.datastructures.ContentRange")
            object is changed.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          ds.ContentRange | None
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

:target{#header-utilities}

## Header Utilities

The following utilities operate on HTTP headers well but do not parse
them.  They are useful if you’re dealing with conditional responses or if
you want to proxy arbitrary requests but want to remove WSGI-unsupported
hop-by-hop headers.  Also there is a function to create HTTP header
strings from the parsed data.

<Outline domain="py" objectType="function" target={"werkzeug.http.is_entity_header"} module={"werkzeug.http"} fullname={"is_entity_header"} parameters={["header"]} description={"Check if a header is an entity header."}>
  <Outline.Signature fullname="is_entity_header" id="werkzeug.http.is_entity_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>is\_entity\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">header</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Check if a header is an entity header.

    <Container type="info" title="Version added">
      <span>New in version 0.5.</span>
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>header</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) – the header to test.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          <cite>True</cite> if it’s an entity header, <cite>False</cite> otherwise.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.is_hop_by_hop_header"} module={"werkzeug.http"} fullname={"is_hop_by_hop_header"} parameters={["header"]} description={"Check if a header is an HTTP/1.1 \u201cHop-by-Hop\u201d header."}>
  <Outline.Signature fullname="is_hop_by_hop_header" id="werkzeug.http.is_hop_by_hop_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>is\_hop\_by\_hop\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">header</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Check if a header is an HTTP/1.1 “Hop-by-Hop” header.

    <Container type="info" title="Version added">
      <span>New in version 0.5.</span>
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>header</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) – the header to test.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          <cite>True</cite> if it’s an HTTP/1.1 “Hop-by-Hop” header, <cite>False</cite> otherwise.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.remove_entity_headers"} module={"werkzeug.http"} fullname={"remove_entity_headers"} parameters={["headers", "allowed"]} description={"Remove all entity headers from a list or Headers object.  This\noperation works in-place.  Expires and Content-Location headers are\nby default not removed.  The reason for this is RFC 2616 section\n10.3.5 which specifies some entity headers that should be sent."}>
  <Outline.Signature fullname="remove_entity_headers" id="werkzeug.http.remove_entity_headers">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>remove\_entity\_headers</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">headers</span></Outline.Parameter>, <Outline.Parameter><span className="name">allowed</span><span>=</span><span>('expires', 'content-location')</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Remove all entity headers from a list or `Headers` object.  This
    operation works in-place.  <cite>Expires</cite> and <cite>Content-Location</cite> headers are
    by default not removed.  The reason for this is [<strong>RFC 2616</strong>](https://datatracker.ietf.org/doc/html/rfc2616.html) section
    10.3.5 which specifies some entity headers that should be sent.

    <Container type="info" title="Version changed">
      <span>Changed in version 0.5: </span>added <cite>allowed</cite> parameter.
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>headers</Outline.ParameterTarget> (<em>ds.Headers</em><em> | </em>[<em>list</em>](https://docs.python.org/3/library/stdtypes.html#list "(in Python v3.11)")<em>\[</em>[<em>tuple</em>](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.11)")<em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em>, </em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em>]</em><em>]</em>) – a list or `Headers` object.
          - <Outline.ParameterTarget>allowed</Outline.ParameterTarget> (<em>t.Iterable</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em>]</em>) – a list of headers that should still be allowed even though
            they are entity headers.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          None
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.remove_hop_by_hop_headers"} module={"werkzeug.http"} fullname={"remove_hop_by_hop_headers"} parameters={["headers"]} description={"Remove all HTTP/1.1 \u201cHop-by-Hop\u201d headers from a list or\nHeaders object.  This operation works in-place."}>
  <Outline.Signature fullname="remove_hop_by_hop_headers" id="werkzeug.http.remove_hop_by_hop_headers">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>remove\_hop\_by\_hop\_headers</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">headers</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Remove all HTTP/1.1 “Hop-by-Hop” headers from a list or
    `Headers` object.  This operation works in-place.

    <Container type="info" title="Version added">
      <span>New in version 0.5.</span>
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>headers</Outline.ParameterTarget> (<em>ds.Headers</em><em> | </em>[<em>list</em>](https://docs.python.org/3/library/stdtypes.html#list "(in Python v3.11)")<em>\[</em>[<em>tuple</em>](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.11)")<em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em>, </em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em>]</em><em>]</em>) – a list or `Headers` object.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          None
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.is_byte_range_valid"} module={"werkzeug.http"} fullname={"is_byte_range_valid"} parameters={["start", "stop", "length"]} description={"Checks if a given byte content range is valid for the given length."}>
  <Outline.Signature fullname="is_byte_range_valid" id="werkzeug.http.is_byte_range_valid">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>is\_byte\_range\_valid</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">start</span></Outline.Parameter>, <Outline.Parameter><span className="name">stop</span></Outline.Parameter>, <Outline.Parameter><span className="name">length</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Checks if a given byte content range is valid for the given length.

    <Container type="info" title="Version added">
      <span>New in version 0.7.</span>
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>start</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) –&#x20;
          - <Outline.ParameterTarget>stop</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) –&#x20;
          - <Outline.ParameterTarget>length</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) –&#x20;
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.quote_header_value"} module={"werkzeug.http"} fullname={"quote_header_value"} parameters={["value", "allow_token"]} description={"Add double quotes around a header value. If the header contains only ASCII token\ncharacters, it will be returned unchanged. If the header contains \" or \\\ncharacters, they will be escaped with an additional \\ character."}>
  <Outline.Signature fullname="quote_header_value" id="werkzeug.http.quote_header_value">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>quote\_header\_value</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter>, <Outline.Parameter><span className="name">allow\_token</span><span>=</span><span>True</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Add double quotes around a header value. If the header contains only ASCII token
    characters, it will be returned unchanged. If the header contains `"` or `\`
    characters, they will be escaped with an additional `\` character.

    This is the reverse of [`unquote_header_value()`](#werkzeug.http.unquote_header_value "werkzeug.http.unquote_header_value").

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>Any</em>](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.11)")) – The value to quote. Will be converted to a string.
          - <Outline.ParameterTarget>allow\_token</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – Disable to quote the value even if it only has token characters.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>Passing bytes is not supported.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>The `extra_chars` parameter is removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>The value is quoted if it is the empty string.
    </Container>

    <Container type="info" title="Version added">
      <span>New in version 0.5.</span>
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.unquote_header_value"} module={"werkzeug.http"} fullname={"unquote_header_value"} parameters={["value"]} description={"Remove double quotes and decode slash-escaped \" and \\ characters in a\nheader value."}>
  <Outline.Signature fullname="unquote_header_value" id="werkzeug.http.unquote_header_value">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>unquote\_header\_value</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Remove double quotes and decode slash-escaped `"` and `\` characters in a
    header value.

    This is the reverse of [`quote_header_value()`](#werkzeug.http.quote_header_value "werkzeug.http.quote_header_value").

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) – The header value to unquote.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>The `is_filename` parameter is removed.
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.dump_header"} module={"werkzeug.http"} fullname={"dump_header"} parameters={["iterable"]} description={"Produce a header value from a list of items or key=value pairs, separated by\ncommas ,."}>
  <Outline.Signature fullname="dump_header" id="werkzeug.http.dump_header">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>dump\_header</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">iterable</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Produce a header value from a list of items or `key=value` pairs, separated by
    commas `,`.

    This is the reverse of [`parse_list_header()`](#werkzeug.http.parse_list_header "werkzeug.http.parse_list_header"), [`parse_dict_header()`](#werkzeug.http.parse_dict_header "werkzeug.http.parse_dict_header"), and
    [`parse_set_header()`](#werkzeug.http.parse_set_header "werkzeug.http.parse_set_header").

    If a value contains non-token characters, it will be quoted.

    If a value is `None`, the key is output alone.

    In some keys for some headers, a UTF-8 value can be encoded using a special
    `key*=UTF-8''value` form, where `value` is percent encoded. This function will
    not produce that format automatically, but if a given key ends with an asterisk
    `*`, the value is assumed to have that form and will not be quoted further.

    ```python
    dump_header(["foo", "bar baz"])
    'foo, "bar baz"'

    dump_header({"foo": "bar baz"})
    'foo="bar baz"'
    ```

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>iterable</Outline.ParameterTarget> ([<em>dict</em>](https://docs.python.org/3/library/stdtypes.html#dict "(in Python v3.11)")<em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em>, </em><em>t.Any</em><em>] </em><em>| </em><em>t.Iterable</em><em>\[</em><em>t.Any</em><em>]</em>) – The items to create a header from.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>The `allow_token` parameter is removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.2.3: </span>If a key ends with `*`, its value will not be quoted.
    </Container>
  </Outline.Content>
</Outline>

:target{#cookies}

## Cookies

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_cookie"} module={"werkzeug.http"} fullname={"parse_cookie"} parameters={["header", "cls"]} description={"Parse a cookie from a string or WSGI environ."}>
  <Outline.Signature fullname="parse_cookie" id="werkzeug.http.parse_cookie">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_cookie</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">header</span></Outline.Parameter>, <Outline.Parameter><span className="name">cls</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse a cookie from a string or WSGI environ.

    The same key can be provided multiple times, the values are stored
    in-order. The default `MultiDict` will have the first value
    first, and all values can be retrieved with
    `MultiDict.getlist()`.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>header</Outline.ParameterTarget> (<em>WSGIEnvironment</em><em> | </em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – The cookie header as a string, or a WSGI environ dict
            with a `HTTP_COOKIE` key.
          - <Outline.ParameterTarget>cls</Outline.ParameterTarget> ([<em>type</em>](https://docs.python.org/3/library/functions.html#type "(in Python v3.11)")<em>\[</em><em>ds.MultiDict</em><em>] </em><em>| </em><em>None</em>) – A dict-like class to store the parsed cookies in.
            Defaults to `MultiDict`.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          ds.MultiDict\[[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)"), [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")]
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>Passing bytes, and the `charset` and `errors` parameters, were removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 1.0: </span>Returns a `MultiDict` instead of a `TypeConversionDict`.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 0.5: </span>Returns a `TypeConversionDict` instead of a regular dict. The `cls`
      parameter was added.
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.dump_cookie"} module={"werkzeug.http"} fullname={"dump_cookie"} parameters={["key", "value", "max_age", "expires", "path", "domain", "secure", "httponly", "sync_expires", "max_size", "samesite"]} description={"Create a Set-Cookie header without the Set-Cookie prefix."}>
  <Outline.Signature fullname="dump_cookie" id="werkzeug.http.dump_cookie">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>dump\_cookie</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">key</span></Outline.Parameter>, <Outline.Parameter><span className="name">value</span><span>=</span><span>''</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_age</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">expires</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">path</span><span>=</span><span>'/'</span></Outline.Parameter>, <Outline.Parameter><span className="name">domain</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">secure</span><span>=</span><span>False</span></Outline.Parameter>, <Outline.Parameter><span className="name">httponly</span><span>=</span><span>False</span></Outline.Parameter>, <Outline.Parameter><span className="name">sync\_expires</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_size</span><span>=</span><span>4093</span></Outline.Parameter>, <Outline.Parameter><span className="name">samesite</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Create a Set-Cookie header without the `Set-Cookie` prefix.

    The return value is usually restricted to ascii as the vast majority
    of values are properly escaped, but that is no guarantee. It’s
    tunneled through latin1 as required by [<strong>PEP 3333</strong>](https://peps.python.org/pep-3333/).

    The return value is not ASCII safe if the key contains unicode
    characters.  This is technically against the specification but
    happens in the wild.  It’s strongly recommended to not use
    non-ASCII values for the keys.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>max\_age</Outline.ParameterTarget> (<em>timedelta</em><em> | </em>[<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) – should be a number of seconds, or <cite>None</cite> (default) if
            the cookie should last only as long as the client’s
            browser session.  Additionally <cite>timedelta</cite> objects
            are accepted, too.
          - <Outline.ParameterTarget>expires</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>datetime</em><em> | </em>[<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em>[<em>float</em>](https://docs.python.org/3/library/functions.html#float "(in Python v3.11)")<em> | </em><em>None</em>) – should be a <cite>datetime</cite> object or unix timestamp.
          - <Outline.ParameterTarget>path</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – limits the cookie to a given path, per default it will
            span the whole domain.
          - <Outline.ParameterTarget>domain</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – Use this if you want to set a cross-domain cookie. For
            example, `domain="example.com"` will set a cookie
            that is readable by the domain `www.example.com`,
            `foo.example.com` etc. Otherwise, a cookie will only
            be readable by the domain that set it.
          - <Outline.ParameterTarget>secure</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – The cookie will only be available via HTTPS
          - <Outline.ParameterTarget>httponly</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – disallow JavaScript to access the cookie.  This is an
            extension to the cookie standard and probably not
            supported by all browsers.
          - <Outline.ParameterTarget>charset</Outline.ParameterTarget> – the encoding for string values.
          - <Outline.ParameterTarget>sync\_expires</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – automatically set expires if max\_age is defined
            but expires not.
          - <Outline.ParameterTarget>max\_size</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")) – Warn if the final header value exceeds this size. The
            default, 4093, should be safely [supported by most browsers](http://browsercookielimits.squawky.net/). Set to 0 to disable this check.
          - <Outline.ParameterTarget>samesite</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – Limits the scope of the cookie such that it will
            only be attached to requests if those requests are same-site.
          - <Outline.ParameterTarget>key</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) –&#x20;
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) –&#x20;
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>Passing bytes, and the `charset` parameter, were removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3.3: </span>The `path` parameter is `/` by default.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3.1: </span>The value allows more characters without quoting.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>`localhost` and other names without a dot are allowed for the domain. A
      leading dot is ignored.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>The `path` parameter is `None` by default.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 1.0.0: </span>The string `'None'` is accepted for `samesite`.
    </Container>
  </Outline.Content>
</Outline>

:target{#conditional-response-helpers}

## Conditional Response Helpers

For conditional responses the following functions might be useful:

<Outline domain="py" objectType="function" target={"werkzeug.http.parse_etags"} module={"werkzeug.http"} fullname={"parse_etags"} parameters={["value"]} description={"Parse an etag header."}>
  <Outline.Signature fullname="parse_etags" id="werkzeug.http.parse_etags">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>parse\_etags</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse an etag header.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>value</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – the tag header to parse
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          an [`ETags`](datastructures.mdx#werkzeug.datastructures.ETags "werkzeug.datastructures.ETags") object.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          ds.ETags
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.quote_etag"} module={"werkzeug.http"} fullname={"quote_etag"} parameters={["etag", "weak"]} description={"Quote an etag."}>
  <Outline.Signature fullname="quote_etag" id="werkzeug.http.quote_etag">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>quote\_etag</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">etag</span></Outline.Parameter>, <Outline.Parameter><span className="name">weak</span><span>=</span><span>False</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Quote an etag.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>etag</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")) – the etag to quote.
          - <Outline.ParameterTarget>weak</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – set to <cite>True</cite> to tag it “weak”.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.unquote_etag"} module={"werkzeug.http"} fullname={"unquote_etag"} parameters={["etag"]} description={"Unquote a single etag:"}>
  <Outline.Signature fullname="unquote_etag" id="werkzeug.http.unquote_etag">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>unquote\_etag</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">etag</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Unquote a single etag:

    ```python
    >>> unquote_etag('W/"bar"')
    ('bar', True)
    >>> unquote_etag('"bar"')
    ('bar', False)
    ```

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>etag</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – the etag identifier to unquote.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          a `(etag, weak)` tuple.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [tuple](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.11)")\[[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)"), [bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")] | [tuple](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.11)")\[(None, None)]
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.generate_etag"} module={"werkzeug.http"} fullname={"generate_etag"} parameters={["data"]} description={"Generate an etag for some data."}>
  <Outline.Signature fullname="generate_etag" id="werkzeug.http.generate_etag">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>generate\_etag</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">data</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Generate an etag for some data.

    <Container type="info" title="Version changed">
      <span>Changed in version 2.0: </span>Use SHA-1. MD5 may not be available in some environments.
    </Container>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>data</Outline.ParameterTarget> ([<em>bytes</em>](https://docs.python.org/3/library/stdtypes.html#bytes "(in Python v3.11)")) –&#x20;
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.http.is_resource_modified"} module={"werkzeug.http"} fullname={"is_resource_modified"} parameters={["environ", "etag", "data", "last_modified", "ignore_if_range"]} description={"Convenience method for conditional requests."}>
  <Outline.Signature fullname="is_resource_modified" id="werkzeug.http.is_resource_modified">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>is\_resource\_modified</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">environ</span></Outline.Parameter>, <Outline.Parameter><span className="name">etag</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">last\_modified</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">ignore\_if\_range</span><span>=</span><span>True</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Convenience method for conditional requests.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>environ</Outline.ParameterTarget> (<em>WSGIEnvironment</em>) – the WSGI environment of the request to be checked.
          - <Outline.ParameterTarget>etag</Outline.ParameterTarget> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – the etag for the response for comparison.
          - <Outline.ParameterTarget>data</Outline.ParameterTarget> ([<em>bytes</em>](https://docs.python.org/3/library/stdtypes.html#bytes "(in Python v3.11)")<em> | </em><em>None</em>) – or alternatively the data of the response to automatically
            generate an etag using [`generate_etag()`](#werkzeug.http.generate_etag "werkzeug.http.generate_etag").
          - <Outline.ParameterTarget>last\_modified</Outline.ParameterTarget> (<em>datetime</em><em> | </em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.11)")<em> | </em><em>None</em>) – an optional date of the last modification.
          - <Outline.ParameterTarget>ignore\_if\_range</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – If <cite>False</cite>, <cite>If-Range</cite> header will be taken into
            account.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          <cite>True</cite> if the resource was modified, otherwise <cite>False</cite>.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.0: </span>SHA-1 is used to generate an etag value for the data. MD5 may
      not be available in some environments.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 1.0.0: </span>The check is run for methods other than `GET` and `HEAD`.
    </Container>
  </Outline.Content>
</Outline>

:target{#constants}

## Constants

<Outline domain="py" objectType="data" target={"werkzeug.http.HTTP_STATUS_CODES"} module={"werkzeug.http"} fullname={"HTTP_STATUS_CODES"} description={"A dict of status code -> default status message pairs.  This is used\nby the wrappers and other places where an integer status code is expanded\nto a string throughout Werkzeug."}>
  <Outline.Signature fullname="HTTP_STATUS_CODES" id="werkzeug.http.HTTP_STATUS_CODES">
    <Outline.Prefix>werkzeug.http.</Outline.Prefix><Outline.Name>HTTP\_STATUS\_CODES</Outline.Name>
  </Outline.Signature>

  <Outline.Content>
    A dict of status code -> default status message pairs.  This is used
    by the wrappers and other places where an integer status code is expanded
    to a string throughout Werkzeug.
  </Outline.Content>
</Outline>

:target{id="module-werkzeug.formparser"}

## Form Data Parsing

Werkzeug provides the form parsing functions separately from the request
object so that you can access form data from a plain WSGI environment.

The following formats are currently supported by the form data parser:

- <cite>application/x-www-form-urlencoded</cite>
- <cite>multipart/form-data</cite>

Nested multipart is not currently supported (Werkzeug 0.9), but it isn’t used
by any of the modern web browsers.

Usage example:

```python
>>> from io import BytesIO
>>> from werkzeug.formparser import parse_form_data
>>> data = (
...     b'--foo\r\nContent-Disposition: form-data; name="test"\r\n'
...     b"\r\nHello World!\r\n--foo--"
... )
>>> environ = {
...     "wsgi.input": BytesIO(data),
...     "CONTENT_LENGTH": str(len(data)),
...     "CONTENT_TYPE": "multipart/form-data; boundary=foo",
...     "REQUEST_METHOD": "POST",
... }
>>> stream, form, files = parse_form_data(environ)
>>> stream.read()
b''
>>> form['test']
'Hello World!'
>>> not files
True
```

Normally the WSGI environment is provided by the WSGI gateway with the
incoming data as part of it.  If you want to generate such fake-WSGI
environments for unittesting you might want to use the
`create_environ()` function or the `EnvironBuilder` instead.

<Outline domain="py" objectType="class" target={"werkzeug.formparser.FormDataParser"} module={"werkzeug.formparser"} fullname={"FormDataParser"} parameters={["stream_factory", "max_form_memory_size", "max_content_length", "cls", "silent", "max_form_parts"]} description={"This class implements parsing of form data for Werkzeug.  By itself\nit can parse multipart and url encoded form data.  It can be subclassed\nand extended but for most mimetypes it is a better idea to use the\nuntouched stream and expose it as separate attributes on a request\nobject."}>
  <Outline.Signature fullname="FormDataParser" id="werkzeug.formparser.FormDataParser">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>werkzeug.formparser.</Outline.Prefix><Outline.Name>FormDataParser</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">stream\_factory</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_form\_memory\_size</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_content\_length</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cls</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">silent</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span>\*</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_form\_parts</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    This class implements parsing of form data for Werkzeug.  By itself
    it can parse multipart and url encoded form data.  It can be subclassed
    and extended but for most mimetypes it is a better idea to use the
    untouched stream and expose it as separate attributes on a request
    object.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>stream\_factory</Outline.ParameterTarget> (<em>TStreamFactory</em><em> | </em><em>None</em>) – An optional callable that returns a new read and
            writeable file descriptor.  This callable works
            the same as `Response._get_file_stream()`.
          - <Outline.ParameterTarget>max\_form\_memory\_size</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) – the maximum number of bytes to be accepted for
            in-memory stored form data.  If the data
            exceeds the value specified an
            `RequestEntityTooLarge`
            exception is raised.
          - <Outline.ParameterTarget>max\_content\_length</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) – If this is provided and the transmitted data
            is longer than this value an
            `RequestEntityTooLarge`
            exception is raised.
          - <Outline.ParameterTarget>cls</Outline.ParameterTarget> ([<em>type</em>](https://docs.python.org/3/library/functions.html#type "(in Python v3.11)")<em>\[</em>[<em>MultiDict</em>](datastructures.mdx#werkzeug.datastructures.MultiDict "werkzeug.datastructures.MultiDict")<em>] </em><em>| </em><em>None</em>) – an optional dict class to use.  If this is not specified
            or <cite>None</cite> the default `MultiDict` is used.
          - <Outline.ParameterTarget>silent</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – If set to False parsing errors will not be caught.
          - <Outline.ParameterTarget>max\_form\_parts</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) – The maximum number of multipart parts to be parsed. If this
            is exceeded, a `RequestEntityTooLarge` exception is raised.
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>The `charset` and `errors` parameters were removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>The `parse_functions` attribute and `get_parse_func` methods were removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.2.3: </span>Added the `max_form_parts` parameter.
    </Container>

    <Container type="info" title="Version added">
      <span>New in version 0.8.</span>
    </Container>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"werkzeug.formparser.parse_form_data"} module={"werkzeug.formparser"} fullname={"parse_form_data"} parameters={["environ", "stream_factory", "max_form_memory_size", "max_content_length", "cls", "silent", "max_form_parts"]} description={"Parse the form data in the environ and return it as tuple in the form\n(stream, form, files).  You should only call this method if the\ntransport method is POST, PUT, or PATCH."}>
  <Outline.Signature fullname="parse_form_data" id="werkzeug.formparser.parse_form_data">
    <Outline.Prefix>werkzeug.formparser.</Outline.Prefix><Outline.Name>parse\_form\_data</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">environ</span></Outline.Parameter>, <Outline.Parameter><span className="name">stream\_factory</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_form\_memory\_size</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_content\_length</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cls</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">silent</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span>\*</span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_form\_parts</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Parse the form data in the environ and return it as tuple in the form
    `(stream, form, files)`.  You should only call this method if the
    transport method is <cite>POST</cite>, <cite>PUT</cite>, or <cite>PATCH</cite>.

    If the mimetype of the data transmitted is <cite>multipart/form-data</cite> the
    files multidict will be filled with <cite>FileStorage</cite> objects.  If the
    mimetype is unknown the input stream is wrapped and returned as first
    argument, else the stream is empty.

    This is a shortcut for the common usage of [`FormDataParser`](#werkzeug.formparser.FormDataParser "werkzeug.formparser.FormDataParser").

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>environ</Outline.ParameterTarget> (<em>WSGIEnvironment</em>) – the WSGI environment to be used for parsing.
          - <Outline.ParameterTarget>stream\_factory</Outline.ParameterTarget> (<em>TStreamFactory</em><em> | </em><em>None</em>) – An optional callable that returns a new read and
            writeable file descriptor.  This callable works
            the same as `Response._get_file_stream()`.
          - <Outline.ParameterTarget>max\_form\_memory\_size</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) – the maximum number of bytes to be accepted for
            in-memory stored form data.  If the data
            exceeds the value specified an
            `RequestEntityTooLarge`
            exception is raised.
          - <Outline.ParameterTarget>max\_content\_length</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) – If this is provided and the transmitted data
            is longer than this value an
            `RequestEntityTooLarge`
            exception is raised.
          - <Outline.ParameterTarget>cls</Outline.ParameterTarget> ([<em>type</em>](https://docs.python.org/3/library/functions.html#type "(in Python v3.11)")<em>\[</em>[<em>MultiDict</em>](datastructures.mdx#werkzeug.datastructures.MultiDict "werkzeug.datastructures.MultiDict")<em>] </em><em>| </em><em>None</em>) – an optional dict class to use.  If this is not specified
            or <cite>None</cite> the default `MultiDict` is used.
          - <Outline.ParameterTarget>silent</Outline.ParameterTarget> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "(in Python v3.11)")) – If set to False parsing errors will not be caught.
          - <Outline.ParameterTarget>max\_form\_parts</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.11)")<em> | </em><em>None</em>) – The maximum number of multipart parts to be parsed. If this
            is exceeded, a `RequestEntityTooLarge` exception is raised.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          A tuple in the form `(stream, form, files)`.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          t\_parse\_result
        </dd>
      </dl>
    </FieldList>

    <Container type="info" title="Version changed">
      <span>Changed in version 3.0: </span>The `charset` and `errors` parameters were removed.
    </Container>

    <Container type="info" title="Version changed">
      <span>Changed in version 2.3: </span>Added the `max_form_parts` parameter.
    </Container>

    <Container type="info" title="Version added">
      <span>New in version 0.5.1: </span>Added the `silent` parameter.
    </Container>

    <Container type="info" title="Version added">
      <span>New in version 0.5: </span>Added the `max_form_memory_size`, `max_content_length`, and `cls`
      parameters.
    </Container>
  </Outline.Content>
</Outline>
